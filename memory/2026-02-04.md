# 2026-02-04

## 项目优化工作

### Pino 日志系统
- 添加统一的 pino 日志模块 (src/utils/logger.ts)
- 替换所有核心模块的 console.log/console.error
- 支持结构化日志、前缀、日志级别控制
- 环境变量 LOG_LEVEL=debug|info|warn|error

### 依赖清理
移除未使用的依赖:
- @anthropic-ai/sdk, openai, google-auth-library
- hono, chalk, ora
- @sinclair/typebox, mime-types, ws

### 依赖升级
- cron-parser v4 → v5 (API 变化: CronExpressionParser.parse)
- node-telegram-bot-api 更新
- zod 保持 v3.22.4 (v4 API 不兼容)

### Provider 配置简化
- OpenAI 兼容 API 统一使用 `openai` provider
- 根据 model ID 前缀自动检测 API base
- 支持自定义 provider (custom providers)

### 自定义模型支持
新增 custom providers 配置:
```json
{
  "providers": {
    "custom": {
      "qwen-code-plus": {
        "name": "qwen-code-plus",
        "api_base": "https://your-api.example.com/v1",
        "api_key": "your-key",
        "api_type": "openai"
      }
    }
  }
}
```

支持的 OpenAI 兼容 provider (自动检测):
- deepseek, minimax, qwen, kimi, openrouter, groq, vllm
